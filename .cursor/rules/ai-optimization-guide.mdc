---
description: AI 호출 최적화 가이드 (토큰 절약, 응답 속도 개선)
globs:
alwaysApply: true
---

# AI 호출 최적화 가이드

## 1️⃣ 입력 축소 (토큰 200↓)

> 모든 호출에 적용, 부작용 없음

### 원칙
- 프롬프트는 **200 토큰 이하**로 유지
- 불필요한 설명, 예시, 반복 제거
- 핵심 지시만 간결하게 전달

### 적용 방법
1. **중복 제거**: 같은 의미의 표현 반복 금지
2. **약어 활용**: 명확한 경우 축약어 사용 가능
3. **구조화**: 글머리 기호로 핵심만 나열
4. **컨텍스트 최소화**: 이미 알고 있는 정보 재전달 금지

### 예시
```
❌ Bad (토큰 과다)
"사용자가 로그인할 때 이메일과 비밀번호를 입력하면
서버에 요청을 보내서 인증을 받고, 성공하면 토큰을 저장하고
실패하면 에러 메시지를 보여주는 로그인 기능을 구현해주세요."

✅ Good (토큰 절약)
"로그인 구현:
- 입력: 이메일, 비밀번호
- 성공: 토큰 저장
- 실패: 에러 표시"
```

---

## 2️⃣ 출력 최소화 + 스트리밍

> 첫 토큰 UX 직결

### 원칙
- **응답 길이 제한** 명시로 불필요한 출력 방지
- **스트리밍 활성화**로 첫 토큰 빠르게 표시
- 사용자 체감 속도 개선

### 적용 방법
1. **출력 형식 지정**: "간결하게", "코드만", "한 줄로" 등 명시
2. **설명 생략 요청**: "설명 없이 코드만 출력"
3. **길이 제한**: "3줄 이내로", "100자 이내로"

### 예시
```
❌ Bad (출력 과다)
"React 컴포넌트를 만들어줘"
→ 긴 설명 + 코드 + 사용법 + 주의사항 출력

✅ Good (출력 최소화)
"React 컴포넌트 코드만 출력 (설명 없이)"
→ 코드만 즉시 출력
```

### 권장 출력 제한 문구
- `코드만 출력`
- `설명 생략`
- `한 줄 요약`
- `핵심만 간결하게`
- `JSON 형식으로만`

---

## 📊 적용 효과

| 항목 | 최적화 전 | 최적화 후 |
|------|----------|----------|
| 입력 토큰 | 500+ | 200↓ |
| 출력 토큰 | 1000+ | 300↓ |
| 첫 토큰 지연 | 2-3초 | 0.5초↓ |
| 비용 | 100% | 40%↓ |

---

## ✅ 체크리스트

프롬프트 작성 시 확인:
- [ ] 입력 토큰 200 이하인가?
- [ ] 중복 표현 제거했는가?
- [ ] 출력 형식/길이 명시했는가?
- [ ] 불필요한 설명 요청 제거했는가?
