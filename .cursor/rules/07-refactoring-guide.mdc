---
description: Tailwind CSS ê¸°ë°˜ í”„ë¡œì íŠ¸ ë¦¬íŒ©í† ë§ ê°€ì´ë“œ
globs:
alwaysApply: false
---

# SafeMeals í”„ë¡œì íŠ¸ ë¦¬íŒ©í† ë§ ê°€ì´ë“œ

==============================================

## ğŸ“ íŒŒì¼ êµ¬ì¡° íŒ¨í„´

### âŒ ê¸°ì¡´ ë°©ì‹ (CSS Module)
```
components/
â””â”€â”€ feature-name/
    â”œâ”€â”€ index.tsx              # ì»´í¬ë„ŒíŠ¸
    â”œâ”€â”€ styles.module.css      # ìŠ¤íƒ€ì¼
    â””â”€â”€ hook.tsx               # ë¡œì§ í›…
```

### âœ… í˜„ì¬ ë°©ì‹ (Tailwind CSS)
```
components/
â””â”€â”€ feature-name/
    â”œâ”€â”€ index.tsx              # ë©”ì¸ ì»´í¬ë„ŒíŠ¸ (UI + Tailwind)
    â”œâ”€â”€ hooks/
    â”‚   â””â”€â”€ use-feature.tsx    # ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ í›…
    â”œâ”€â”€ components/            # í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ (í•„ìš”ì‹œ)
    â”‚   â”œâ”€â”€ feature-item.tsx
    â”‚   â””â”€â”€ feature-card.tsx
    â””â”€â”€ types.ts               # íƒ€ì… ì •ì˜ (ë³µì¡í•œ ê²½ìš°)
```

==============================================

## ğŸ¯ ì»´í¬ë„ŒíŠ¸ ë¶„ë¦¬ ì›ì¹™

### 1. ë‹¨ìˆœ ì»´í¬ë„ŒíŠ¸ (Small Component)
```
components/
â””â”€â”€ simple-button/
    â””â”€â”€ index.tsx              # ë‹¨ì¼ íŒŒì¼ë¡œ ì¶©ë¶„
```

**íŠ¹ì§•**:
- 100ì¤„ ì´í•˜
- ë¡œì§ ì—†ìŒ ë˜ëŠ” ë§¤ìš° ë‹¨ìˆœ
- Tailwind CSSë§Œ ì‚¬ìš©
- Props íƒ€ì…ë§Œ ì •ì˜

### 2. ì¤‘ê°„ ì»´í¬ë„ŒíŠ¸ (Medium Component)
```
components/
â””â”€â”€ user-card/
    â”œâ”€â”€ index.tsx              # ë©”ì¸ ì»´í¬ë„ŒíŠ¸
    â””â”€â”€ hooks/
        â””â”€â”€ use-user-card.tsx  # ë¡œì§ ë¶„ë¦¬
```

**íŠ¹ì§•**:
- 100~300ì¤„
- ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ìˆìŒ (API í˜¸ì¶œ, ìƒíƒœ ê´€ë¦¬)
- í›…ìœ¼ë¡œ ë¡œì§ ë¶„ë¦¬

### 3. ë³µì¡í•œ ì»´í¬ë„ŒíŠ¸ (Complex Component)
```
components/
â””â”€â”€ dashboard/
    â”œâ”€â”€ index.tsx              # ë©”ì¸ ì»¨í…Œì´ë„ˆ
    â”œâ”€â”€ hooks/
    â”‚   â”œâ”€â”€ use-dashboard-data.tsx    # ë°ì´í„° í›…
    â”‚   â””â”€â”€ use-dashboard-actions.tsx # ì•¡ì…˜ í›…
    â”œâ”€â”€ components/
    â”‚   â”œâ”€â”€ dashboard-header.tsx
    â”‚   â”œâ”€â”€ dashboard-stats.tsx
    â”‚   â””â”€â”€ dashboard-chart.tsx
    â”œâ”€â”€ types.ts               # íƒ€ì… ì •ì˜
    â””â”€â”€ constants.ts           # ë¡œì»¬ ìƒìˆ˜
```

**íŠ¹ì§•**:
- 300ì¤„ ì´ìƒ
- ì—¬ëŸ¬ í•˜ìœ„ ì»´í¬ë„ŒíŠ¸
- ì—¬ëŸ¬ í›… (ë°ì´í„°, ì•¡ì…˜ ë¶„ë¦¬)
- íƒ€ì…ê³¼ ìƒìˆ˜ íŒŒì¼ ë¶„ë¦¬

==============================================

## ğŸ”„ ë¦¬íŒ©í† ë§ ì²´í¬ë¦¬ìŠ¤íŠ¸

### Phase 1: êµ¬ì¡° ë¶„ì„
- [ ] ì»´í¬ë„ŒíŠ¸ í¬ê¸° í™•ì¸ (ì¤„ ìˆ˜)
- [ ] ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ íŒŒì•…
- [ ] í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ í•„ìš”ì„± íŒë‹¨
- [ ] ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ë¶€ë¶„ ì‹ë³„

### Phase 2: íŒŒì¼ ë¶„ë¦¬
- [ ] hooks/ í´ë”ì— ë¡œì§ ë¶„ë¦¬
- [ ] components/ í´ë”ì— í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ ë¶„ë¦¬
- [ ] types.tsì— ë³µì¡í•œ íƒ€ì… ë¶„ë¦¬
- [ ] constants.tsì— ìƒìˆ˜ ë¶„ë¦¬

### Phase 3: Tailwind ìµœì í™”
- [ ] ì¤‘ë³µ í´ë˜ìŠ¤ ì œê±°
- [ ] cn() ìœ í‹¸ë¦¬í‹° í™œìš©
- [ ] ë°˜ì‘í˜• í´ë˜ìŠ¤ ì •ë¦¬ (sm:, md:, lg:)
- [ ] CSS ë³€ìˆ˜ í™œìš© í™•ì¸

### Phase 4: í…ŒìŠ¤íŠ¸ ì¶”ê°€
- [ ] data-testid ì¶”ê°€
- [ ] Playwright í…ŒìŠ¤íŠ¸ ì‘ì„±
- [ ] ì—£ì§€ ì¼€ì´ìŠ¤ í™•ì¸

==============================================

## ğŸ“ í”„ë¡¬í”„íŠ¸ ì‘ì„± í…œí”Œë¦¿

### í…œí”Œë¦¿ 1: ìƒˆ ì»´í¬ë„ŒíŠ¸ ìƒì„±

```markdown
ì•„ë˜ì˜ ì¡°ê±´ì„ ëª¨ë‘ ì ìš©í•˜ì—¬, ìš”êµ¬ì‚¬í•­ì„ êµ¬í˜„í•  ê²ƒ.

==============================================

ì¡°ê±´-ì»¤ì„œë£°) ì•„ë˜ì˜ ì»¤ì„œë£°ì„ ì ìš©í•  ê²ƒ.
            - @00-quick-reference.mdc
            - @02-wireframe.mdc
            - @03-ui.mdc
            - @04-func.mdc

==============================================

ì¡°ê±´-íŒŒì¼ê²½ë¡œ) êµ¬í˜„ë  íŒŒì¼ ê²½ë¡œ: src/features/[feature-name]/components/[component-name]/index.tsx
ì¡°ê±´-íŒŒì¼ê²½ë¡œ) í›… íŒŒì¼ ê²½ë¡œ: src/features/[feature-name]/hooks/use-[feature-name].tsx

==============================================

ì¡°ê±´-ê¸°ìˆ ìŠ¤íƒ) Tailwind CSSë¥¼ ì‚¬ìš©í•  ê²ƒ.
ì¡°ê±´-ê¸°ìˆ ìŠ¤íƒ) shadcn/ui ì»´í¬ë„ŒíŠ¸ë¥¼ ìµœëŒ€í•œ í™œìš©í•  ê²ƒ.
ì¡°ê±´-ê¸°ìˆ ìŠ¤íƒ) lucide-react ì•„ì´ì½˜ì„ ì‚¬ìš©í•  ê²ƒ.
ì¡°ê±´-ê¸°ìˆ ìŠ¤íƒ) useTranslation í›…ìœ¼ë¡œ ë‹¤êµ­ì–´ ì²˜ë¦¬í•  ê²ƒ.

==============================================

ì¡°ê±´-ì»´í¬ë„ŒíŠ¸) ì‚¬ìš©í•  shadcn/ui ì»´í¬ë„ŒíŠ¸ ëª©ë¡
            - Button, Card, Input, Dialog ë“±

ì¡°ê±´-ì»´í¬ë„ŒíŠ¸) ìƒ‰ìƒì€ Tailwind í…Œë§ˆ ë˜ëŠ” CSS ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•  ê²ƒ.
            - Primary: bg-[#2ECC71]
            - text-muted-foreground
            - border-gray-200

==============================================

í•µì‹¬ìš”êµ¬ì‚¬í•­-1) [ê¸°ëŠ¥ ì„¤ëª…]ì„ êµ¬í˜„í•  ê²ƒ.

í•µì‹¬ìš”êµ¬ì‚¬í•­-2) ì»´í¬ë„ŒíŠ¸ëŠ” ë‹¤ìŒ êµ¬ì¡°ë¡œ ì‘ì„±í•  ê²ƒ:
            1. Props íƒ€ì… ì •ì˜
            2. ì»¤ìŠ¤í…€ í›… í˜¸ì¶œ (ë°ì´í„°, ë¡œì§)
            3. í•¸ë“¤ëŸ¬ í•¨ìˆ˜
            4. JSX ë°˜í™˜ (Tailwind í´ë˜ìŠ¤ ì‚¬ìš©)

í•µì‹¬ìš”êµ¬ì‚¬í•­-3) ë‹¤êµ­ì–´ ì§€ì›:
            - useTranslation í›… ì‚¬ìš©
            - í•˜ë“œì½”ë”©ëœ í…ìŠ¤íŠ¸ ê¸ˆì§€

í•µì‹¬ìš”êµ¬ì‚¬í•­-4) í…ŒìŠ¤íŠ¸ ì§€ì›:
            - ì£¼ìš” ìš”ì†Œì— data-testid ì¶”ê°€
            - data-testid="feature-name-button" í˜•ì‹

í•µì‹¬ìš”êµ¬ì‚¬í•­-5) ë°˜ì‘í˜• ë””ìì¸:
            - ëª¨ë°”ì¼ ìš°ì„  (ê¸°ë³¸)
            - sm: íƒœë¸”ë¦¿
            - md: ë°ìŠ¤í¬í†±

==============================================

ì£¼ì˜ì‚¬í•­) CSS Module ì‚¬ìš© ê¸ˆì§€
ì£¼ì˜ì‚¬í•­) position: absolute ìµœì†Œí™”
ì£¼ì˜ì‚¬í•­) !important ì‚¬ìš© ê¸ˆì§€
ì£¼ì˜ì‚¬í•­) ì¸ë¼ì¸ ìŠ¤íƒ€ì¼ ê¸ˆì§€
```

### í…œí”Œë¦¿ 2: ê¸°ì¡´ ì»´í¬ë„ŒíŠ¸ ë¦¬íŒ©í† ë§

```markdown
ì•„ë˜ì˜ ì¡°ê±´ì„ ëª¨ë‘ ì ìš©í•˜ì—¬, ê¸°ì¡´ ì»´í¬ë„ŒíŠ¸ë¥¼ ë¦¬íŒ©í† ë§í•  ê²ƒ.

==============================================

ì¡°ê±´-ì»¤ì„œë£°) @00-quick-reference.mdc, @02-wireframe.mdc ì ìš©

==============================================

ì¡°ê±´-ëŒ€ìƒíŒŒì¼) ë¦¬íŒ©í† ë§ ëŒ€ìƒ: src/features/[feature-name]/components/[component-name]/index.tsx

==============================================

ë¦¬íŒ©í† ë§-ëª©í‘œ-1) ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ hooks/use-[feature-name].tsxë¡œ ë¶„ë¦¬
                - useState, useEffect, API í˜¸ì¶œ ë¡œì§
                - ë³µì¡í•œ ê³„ì‚° ë¡œì§
                - ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬

ë¦¬íŒ©í† ë§-ëª©í‘œ-2) í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ ë¶„ë¦¬ (í•„ìš”ì‹œ)
                - ë°˜ë³µë˜ëŠ” UI íŒ¨í„´
                - 100ì¤„ ì´ìƒì˜ JSX ë¸”ë¡
                - ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ë¶€ë¶„

ë¦¬íŒ©í† ë§-ëª©í‘œ-3) Tailwind CSS ìµœì í™”
                - ì¤‘ë³µ í´ë˜ìŠ¤ ì œê±°
                - cn() ìœ í‹¸ë¦¬í‹° í™œìš©
                - ì¡°ê±´ë¶€ ìŠ¤íƒ€ì¼ë§ ê°œì„ 

ë¦¬íŒ©í† ë§-ëª©í‘œ-4) íƒ€ì… ì•ˆì •ì„± ê°•í™”
                - Props íƒ€ì… ëª…í™•íˆ ì •ì˜
                - any íƒ€ì… ì œê±°
                - í•„ìš”ì‹œ types.ts ë¶„ë¦¬

ë¦¬íŒ©í† ë§-ëª©í‘œ-5) ì ‘ê·¼ì„± ê°œì„ 
                - aria-label ì¶”ê°€
                - data-testid ì¶”ê°€
                - í‚¤ë³´ë“œ ë„¤ë¹„ê²Œì´ì…˜ ì§€ì›

==============================================

ì²´í¬ë¦¬ìŠ¤íŠ¸) ë¦¬íŒ©í† ë§ í›„ ë‹¤ìŒì„ í™•ì¸í•  ê²ƒ:
        - [ ] ì»´í¬ë„ŒíŠ¸ íŒŒì¼ 200ì¤„ ì´í•˜
        - [ ] ë¡œì§ì´ í›…ìœ¼ë¡œ ë¶„ë¦¬ë¨
        - [ ] Tailwind CSSë§Œ ì‚¬ìš©
        - [ ] íƒ€ì… ì—ëŸ¬ ì—†ìŒ
        - [ ] data-testid ì¶”ê°€ë¨
        - [ ] ë¹Œë“œ ì„±ê³µ (npm run build)
```

### í…œí”Œë¦¿ 3: í›… ìƒì„±

```markdown
ì•„ë˜ì˜ ì¡°ê±´ì„ ëª¨ë‘ ì ìš©í•˜ì—¬, ì»¤ìŠ¤í…€ í›…ì„ êµ¬í˜„í•  ê²ƒ.

==============================================

ì¡°ê±´-ì»¤ì„œë£°) @04-func.mdc ì ìš©

==============================================

ì¡°ê±´-íŒŒì¼ê²½ë¡œ) src/features/[feature]/hooks/use-[feature].tsx

==============================================

í›…-ìš”êµ¬ì‚¬í•­-1) ë‹¤ìŒ ë¡œì§ì„ í¬í•¨í•  ê²ƒ:
            - ìƒíƒœ ê´€ë¦¬ (useState)
            - API í˜¸ì¶œ (React Query)
            - ë¶€ìˆ˜ íš¨ê³¼ (useEffect)
            - ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬

í›…-ìš”êµ¬ì‚¬í•­-2) ë°˜í™˜ê°’ êµ¬ì¡°:
            ```typescript
            return {
              // ìƒíƒœ
              data,
              isLoading,
              error,
              
              // ì•¡ì…˜
              handleSubmit,
              handleReset,
            };
            ```

í›…-ìš”êµ¬ì‚¬í•­-3) React Query ì‚¬ìš© (API í˜¸ì¶œ ì‹œ):
            - useQuery: ë°ì´í„° ì¡°íšŒ
            - useMutation: ë°ì´í„° ë³€ê²½

í›…-ìš”êµ¬ì‚¬í•­-4) íƒ€ì… ì•ˆì •ì„±:
            - ì œë„¤ë¦­ íƒ€ì… í™œìš©
            - ë°˜í™˜ íƒ€ì… ëª…ì‹œ

==============================================

ì˜ˆì‹œ)
```typescript
export function useFeature() {
  const [state, setState] = useState();
  const { data, isLoading } = useQuery(...);
  
  const handleAction = () => {
    // ë¡œì§
  };
  
  return { data, isLoading, handleAction };
}
```
```

==============================================

## ğŸ’¡ ì‹¤ì „ ì˜ˆì‹œ

### ì˜ˆì‹œ 1: ê°„ë‹¨í•œ ì¹´ë“œ ì»´í¬ë„ŒíŠ¸

```typescript
// src/components/allergen-card/index.tsx

import { ShieldAlert } from 'lucide-react';
import { Card, CardContent } from '@/components/ui/card';
import { Badge } from '@/components/ui/badge';
import { cn } from '@/components/ui/utils';
import { useTranslation } from '@/hooks/useTranslation';

interface AllergenCardProps {
  name: string;
  severity: 'high' | 'medium' | 'low';
  className?: string;
}

export function AllergenCard({ name, severity, className }: AllergenCardProps) {
  const { t } = useTranslation();
  
  const severityColors = {
    high: 'bg-red-100 text-red-800 border-red-200',
    medium: 'bg-yellow-100 text-yellow-800 border-yellow-200',
    low: 'bg-green-100 text-green-800 border-green-200',
  };

  return (
    <Card 
      className={cn('p-4', className)}
      data-testid="allergen-card"
    >
      <CardContent className="flex items-center gap-3">
        <ShieldAlert className="w-5 h-5 text-muted-foreground" />
        <div className="flex-1">
          <h3 className="font-medium">{name}</h3>
          <Badge className={severityColors[severity]}>
            {t.severity[severity]}
          </Badge>
        </div>
      </CardContent>
    </Card>
  );
}
```

### ì˜ˆì‹œ 2: ë¡œì§ì´ ìˆëŠ” ì»´í¬ë„ŒíŠ¸ (í›… ë¶„ë¦¬)

```typescript
// src/components/scan-result/hooks/use-scan-result.tsx

import { useQuery } from '@tanstack/react-query';
import { useState } from 'react';

export function useScanResult(scanId: string) {
  const [filter, setFilter] = useState<'all' | 'safe' | 'danger'>('all');
  
  const { data, isLoading, error } = useQuery({
    queryKey: ['scan-result', scanId],
    queryFn: () => fetchScanResult(scanId),
  });
  
  const filteredAllergens = data?.allergens.filter(item => {
    if (filter === 'all') return true;
    return item.isSafe === (filter === 'safe');
  });
  
  const handleFilterChange = (newFilter: typeof filter) => {
    setFilter(newFilter);
  };
  
  return {
    allergens: filteredAllergens,
    isLoading,
    error,
    filter,
    handleFilterChange,
  };
}

async function fetchScanResult(id: string) {
  const res = await fetch(`/api/scan/${id}`);
  return res.json();
}
```

```typescript
// src/components/scan-result/index.tsx

import { useScanResult } from './hooks/use-scan-result';
import { AllergenCard } from '@/components/allergen-card';
import { Button } from '@/components/ui/button';
import { useTranslation } from '@/hooks/useTranslation';

interface ScanResultProps {
  scanId: string;
}

export function ScanResult({ scanId }: ScanResultProps) {
  const { t } = useTranslation();
  const { allergens, isLoading, filter, handleFilterChange } = useScanResult(scanId);
  
  if (isLoading) return <div>Loading...</div>;
  
  return (
    <div className="space-y-4" data-testid="scan-result">
      {/* í•„í„° ë²„íŠ¼ */}
      <div className="flex gap-2">
        <Button
          variant={filter === 'all' ? 'default' : 'outline'}
          onClick={() => handleFilterChange('all')}
          data-testid="filter-all"
        >
          {t.all}
        </Button>
        <Button
          variant={filter === 'safe' ? 'default' : 'outline'}
          onClick={() => handleFilterChange('safe')}
          data-testid="filter-safe"
        >
          {t.safe}
        </Button>
        <Button
          variant={filter === 'danger' ? 'default' : 'outline'}
          onClick={() => handleFilterChange('danger')}
          data-testid="filter-danger"
        >
          {t.danger}
        </Button>
      </div>
      
      {/* ê²°ê³¼ ë¦¬ìŠ¤íŠ¸ */}
      <div className="grid gap-3">
        {allergens?.map(item => (
          <AllergenCard
            key={item.id}
            name={item.name}
            severity={item.severity}
          />
        ))}
      </div>
    </div>
  );
}
```

==============================================

## ğŸ¨ Tailwind CSS íŒ¨í„´

### ì¡°ê±´ë¶€ ìŠ¤íƒ€ì¼ë§
```typescript
// âŒ ë‚˜ìœ ì˜ˆ
<div className={isActive ? 'bg-green-500 text-white' : 'bg-gray-100 text-gray-800'}>

// âœ… ì¢‹ì€ ì˜ˆ
<div className={cn(
  'px-4 py-2 rounded',
  isActive ? 'bg-green-500 text-white' : 'bg-gray-100 text-gray-800'
)}>
```

### ë°˜ì‘í˜• ë””ìì¸
```typescript
// ëª¨ë°”ì¼ ìš°ì„ 
<div className="
  flex flex-col gap-2          /* ëª¨ë°”ì¼ */
  sm:flex-row sm:gap-4         /* íƒœë¸”ë¦¿ */
  md:gap-6                     /* ë°ìŠ¤í¬í†± */
">
```

### ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ìŠ¤íƒ€ì¼
```typescript
// constants.ts
export const CARD_STYLES = {
  base: 'rounded-xl border shadow-sm p-4',
  hover: 'hover:shadow-md transition-shadow',
  active: 'ring-2 ring-[#2ECC71]',
};

// ì»´í¬ë„ŒíŠ¸ì—ì„œ
<div className={cn(CARD_STYLES.base, CARD_STYLES.hover)}>
```

==============================================

## âœ… ìµœì¢… ì²´í¬ë¦¬ìŠ¤íŠ¸

ë¦¬íŒ©í† ë§ ë˜ëŠ” ìƒˆ ì»´í¬ë„ŒíŠ¸ ì‘ì„± í›„:

- [ ] Tailwind CSSë§Œ ì‚¬ìš© (CSS Module ì—†ìŒ)
- [ ] ë¡œì§ì´ í›…ìœ¼ë¡œ ë¶„ë¦¬ë¨
- [ ] shadcn/ui ì»´í¬ë„ŒíŠ¸ í™œìš©
- [ ] lucide-react ì•„ì´ì½˜ ì‚¬ìš©
- [ ] useTranslationìœ¼ë¡œ ë‹¤êµ­ì–´ ì²˜ë¦¬
- [ ] data-testid ì¶”ê°€
- [ ] ë°˜ì‘í˜• ë””ìì¸ ì ìš©
- [ ] íƒ€ì… ì—ëŸ¬ ì—†ìŒ
- [ ] npm run build ì„±ê³µ
- [ ] Playwright í…ŒìŠ¤íŠ¸ ì‘ì„± (ì£¼ìš” ê¸°ëŠ¥)
