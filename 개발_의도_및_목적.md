# SafeMeals 개발 의도 및 목적

> **프로젝트**: SafeMeals - 알레르기 정보 관리 및 메뉴 스캔 앱  
> **작성일**: 2025-12-19

---

## 🎯 핵심 목적

### 1. 사용자 문제 해결

**문제 상황:**
- 알레르기가 있는 사람들이 외식 시 안전한 메뉴를 찾기 어려움
- 언어 장벽으로 인해 레스토랑 직원과 소통이 어려움
- 메뉴판을 보고 알레르기 유발 성분을 직접 확인해야 하는 불편함

**해결책:**
- ✅ **메뉴 스캔 기능**: 카메라로 메뉴판을 촬영하면 AI가 자동으로 알레르기 정보 분석
- ✅ **Safety Card**: PIN으로 보호된 알레르기 정보 카드 (한국어/영어 병기)
- ✅ **다국어 지원**: 5개 언어 지원으로 전 세계 어디서나 사용 가능
- ✅ **실시간 분석**: Gemini AI로 즉시 위험도 판단 (Safe/Caution/Warning/Danger)

---

## 🏗️ 기술적 개발 의도

### 1. Feature-based Architecture (기능별 모듈화)

**의도:**
```
독립적인 부품들의 조립 형태로 구현
→ 추후 수정이 쉽도록
```

**구현:**
- `src/features/` 폴더 구조로 기능별 모듈화
- 각 feature는 독립적으로 작동
- Public API 패턴으로 깔끔한 인터페이스 제공

**장점:**
- ✅ **유지보수성**: 기능별로 코드가 분리되어 수정이 쉬움
- ✅ **확장성**: 새 기능 추가가 용이
- ✅ **협업**: 여러 개발자가 동시에 작업 가능
- ✅ **테스트**: 기능별로 독립적으로 테스트 가능

### 2. 타입 안전성 확보

**의도:**
```
TypeScript strict 모드로 런타임 에러 방지
```

**구현:**
- 모든 컴포넌트에 타입 정의
- `any` 타입 사용 금지
- 인터페이스로 데이터 구조 명확화

**장점:**
- ✅ **에러 예방**: 컴파일 타임에 오류 발견
- ✅ **자동 완성**: IDE에서 정확한 타입 힌트
- ✅ **문서화**: 타입 자체가 문서 역할

### 3. 재사용 가능한 컴포넌트

**의도:**
```
shadcn/ui + Radix UI로 접근성 있는 UI 컴포넌트
```

**구현:**
- `src/components/ui/` - 53개의 재사용 가능한 UI 컴포넌트
- `src/components/shared/` - 공통 비즈니스 컴포넌트
- Tailwind CSS로 일관된 스타일링

**장점:**
- ✅ **일관성**: 전체 앱에서 동일한 디자인
- ✅ **접근성**: Radix UI로 a11y 자동 지원
- ✅ **개발 속도**: 기존 컴포넌트 재사용으로 빠른 개발

---

## 🌍 사용자 경험 개선 의도

### 1. 다국어 지원 (5개 언어)

**의도:**
```
한국인 여행자가 전 세계 어디서나 사용할 수 있도록
```

**구현:**
- 한국어 (ko) - 기본 언어
- 영어 (en)
- 일본어 (ja)
- 중국어 (zh)
- 스페인어 (es)

**특징:**
- ✅ **자동 저장**: 언어 설정이 localStorage에 저장되어 유지
- ✅ **타입 안전성**: 모든 언어에 동일한 키 보장
- ✅ **동적 번역**: `useTranslation` 훅으로 간편하게 사용

### 2. Safety Card (PIN 보안)

**의도:**
```
레스토랑에서 안전하게 알레르기 정보를 공유
```

**구현:**
- 4자리 PIN으로 보호
- 한국어/영어 병기 표시
- 알레르기 심각도별 색상 코딩

**사용 시나리오:**
1. 사용자가 레스토랑에 도착
2. Safety Card 열기 (PIN 입력)
3. 직원에게 카드 보여주기
4. 직원이 알레르기 정보 확인 후 안전한 메뉴 추천

### 3. 실시간 메뉴 분석

**의도:**
```
메뉴판을 촬영하면 즉시 알레르기 정보 확인
```

**구현:**
- Gemini 1.5 Flash OCR (텍스트 추출)
- 식품안전나라 API (레시피 정보)
- Gemini AI 알레르기 분석
- 위험도별 색상 코딩

**플로우:**
```
카메라 촬영
  ↓
OCR (텍스트 추출)
  ↓
레시피 검색 (선택)
  ↓
알레르기 분석
  ↓
결과 표시 (Safe/Caution/Warning/Danger)
```

---

## 📐 코드 품질 개선 의도

### 1. 명확한 폴더 구조

**의도:**
```
새로운 개발자도 쉽게 이해할 수 있는 구조
```

**구조:**
```
src/
├── app/              # Next.js 라우팅 (껍데기)
├── features/         # 기능별 모듈 (핵심 로직)
├── components/       # 공통 컴포넌트
├── lib/              # 유틸리티
└── hooks/            # 커스텀 훅
```

### 2. 문서화

**의도:**
```
코드 자체가 문서 역할을 하도록
```

**구현:**
- JSDoc 주석 추가
- TypeScript 타입으로 인터페이스 명확화
- 프롬프트 파일로 기능별 가이드 작성

### 3. 일관된 코딩 스타일

**의도:**
```
팀 전체가 동일한 스타일로 개발
```

**규칙:**
- Tailwind CSS만 사용 (CSS Module 금지)
- `'use client'` 명시
- 하드코딩 금지 (다국어 지원)
- 절대 경로 사용 (`@/`)

---

## 🎨 디자인 의도

### 1. 모바일 우선 설계

**의도:**
```
외식 시 스마트폰으로 바로 사용
```

**구현:**
- 반응형 디자인 (모바일/태블릿/데스크톱)
- 터치 친화적 UI
- 큰 버튼과 명확한 시각적 피드백

### 2. 색상 코딩

**의도:**
```
위험도를 한눈에 파악
```

**구현:**
- 🟢 **Safe** (초록) - 안전
- 🟡 **Caution** (노랑) - 주의
- 🟠 **Warning** (주황) - 경고
- 🔴 **Danger** (빨강) - 위험

### 3. 접근성 (a11y)

**의도:**
```
모든 사용자가 사용할 수 있도록
```

**구현:**
- Radix UI로 키보드 네비게이션 지원
- 스크린 리더 지원
- 색상 대비 확보

---

## 🔒 보안 의도

### 1. PIN 보안 시스템

**의도:**
```
민감한 건강 정보를 안전하게 보호
```

**구현:**
- 4자리 PIN 입력
- SHA-256 해싱 (프로덕션에서는 bcrypt 권장)
- 시도 횟수 제한 (5회)
- 30초 락아웃

### 2. 데이터 보호

**의도:**
```
사용자 정보를 안전하게 저장
```

**구현:**
- Supabase RLS (Row Level Security) 정책
- 사용자는 자신의 데이터만 접근 가능
- 환경 변수로 API 키 관리

---

## 📊 개발 원칙 요약

### 1. 독립적인 부품들의 조립
```
각 컴포넌트는 독립적으로 작동
→ 재사용 가능
→ 테스트 용이
→ 수정이 쉬움
```

### 2. 명시된 파일만 수정
```
의도치 않은 사이드 이펙트 방지
→ 안정성 확보
```

### 3. Step-by-step 구현
```
1. 피그마 분석
2. package.json 확인
3. 폴더 구조 분석
4. 구현
5. 전체 검토
```

---

## 🎯 최종 목표

### 사용자 관점
- ✅ **안전한 식사**: 알레르기로부터 안전하게 식사
- ✅ **편리함**: 메뉴 스캔으로 즉시 정보 확인
- ✅ **글로벌**: 전 세계 어디서나 사용 가능

### 개발자 관점
- ✅ **유지보수성**: 수정이 쉬운 구조
- ✅ **확장성**: 새 기능 추가가 용이
- ✅ **품질**: 타입 안전성과 테스트 가능한 코드

### 비즈니스 관점
- ✅ **시장 진입**: 한국인 여행자 타겟
- ✅ **확장 가능**: 다국어 지원으로 글로벌 확장 가능
- ✅ **차별화**: AI 기반 실시간 분석

---

## 📝 결론

**SafeMeals는 단순한 앱이 아닙니다.**

1. **사용자 문제 해결**: 알레르기로 고민하는 사람들을 위한 솔루션
2. **기술적 우수성**: 확장 가능하고 유지보수하기 쉬운 구조
3. **사용자 경험**: 직관적이고 접근성 있는 인터페이스
4. **보안**: 민감한 건강 정보를 안전하게 보호

**"안전하게, 어디서나"** - 이 한 문장이 SafeMeals의 모든 의도를 담고 있습니다.

---

**작성일**: 2025-12-19  
**작성자**: AI Assistant

