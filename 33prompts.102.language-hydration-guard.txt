아래의 조건을 모두 적용하여, 아래의 요구사항을 모두 구현할 것.
구현 결과를 체크리스트로 반환할 것.

==============================================

조건-커서룰) 아래의 커서룰을 적용하여 작업하고, 이 작업이 끝나면 해당 rules 적용 결과를 체크리스트로 반환할 것.
            - @01-common.mdc
            - @04-func.mdc

==============================================

조건-파일경로) 구현될 TSX 파일경로: apps/web/src/components/language-hydration-guard/index.tsx
조건-파일경로) 구현될 TEST 파일경로: apps/web/tests/language-hydration-guard.spec.ts
조건-파일경로) 적용될 LAYOUT 파일경로: apps/web/src/app/layout.tsx

==============================================

핵심요구사항) playwright 테스트를 활용하여 TDD 기반으로 구현하고, 테스트에 통과할 때까지 반복할 것.

1) 테스트 제외 라이브러리
   - jest
   - @testing-library/react

2) 테스트 조건
   - timeout은 설정하지 않거나, 500ms 미만으로 설정할 것.
   - 페이지가 완전히 로드된 후 테스트할 것.
       - 페이지 로드 식별 요구사항: 고정식별자 data-testid 대기 방법
       - **중요금지사항** 페이지 로드 식별 금지사항: networkidle 대기 방법

3) 테스트 시나리오
   3-1) 성공 시나리오
        - localStorage에 'en' 저장 시:
          localStorage.setItem('safemeals-language-storage', JSON.stringify({
            state: { language: 'en' },
            version: 0
          }))
        - 페이지 로드 후 data-testid="app-content"가 보이는지 검증
        - 영어 번역 텍스트가 표시되는지 검증
        - 로딩 UI(data-testid="language-loading")가 표시되지 않는지 검증

   3-2) hydration 대기 시나리오
        - localStorage 비어있을 때 기본 언어(ko)로 로드되는지 검증
        - hydration 완료 후 data-testid="app-content"가 표시되는지 검증

   3-3) 언어 전환 시나리오
        - 언어 선택기에서 언어 변경 시 즉시 번역이 변경되는지 검증
        - localStorage가 업데이트되는지 검증

==============================================

핵심요구사항) LanguageHydrationGuard 컴포넌트를 구현할 것.

1) 컴포넌트 역할
   - zustand persist hydration 완료를 대기
   - hydration 완료 전: 로딩 UI 표시
   - hydration 완료 후: children 렌더링
   - 모든 페이지에서 언어 상태가 통일되도록 보장

2) 컴포넌트 인터페이스
   interface LanguageHydrationGuardProps {
     children: React.ReactNode;
   }

3) 구현 상세
   3-1) useLanguageStore에서 hydrated 상태 구독
   3-2) hydrated === false일 때:
        - 로딩 스피너 표시
        - data-testid="language-loading" 속성 추가
        - 최소한의 UI (화면 중앙 정렬)
   3-3) hydrated === true일 때:
        - children을 그대로 렌더링
        - data-testid="app-content" wrapper로 감싸기

4) 로딩 UI 구현
   4-1) Loader2 컴포넌트 사용 (lucide-react)
   4-2) 화면 중앙 정렬 (flex, items-center, justify-center)
   4-3) 최소 높이: min-h-screen
   4-4) 배경색: bg-white
   4-5) 로딩 텍스트 없음 (스피너만 표시)

5) 예시 코드 구조
   'use client';

   import { useLanguageStore } from '@/commons/stores/useLanguageStore';
   import { Loader2 } from 'lucide-react';

   export function LanguageHydrationGuard({ children }: LanguageHydrationGuardProps) {
     const hydrated = useLanguageStore((state) => state.hydrated);

     if (!hydrated) {
       return (
         <div
           className="flex min-h-screen items-center justify-center bg-white"
           data-testid="language-loading"
         >
           <Loader2 className="h-8 w-8 animate-spin text-gray-400" />
         </div>
       );
     }

     return <div data-testid="app-content">{children}</div>;
   }

==============================================

핵심요구사항) apps/web/src/app/layout.tsx에 LanguageHydrationGuard를 적용할 것.

1) 적용 위치
   - AuthProvider 내부
   - AnalyzeResultProvider 외부
   - 모든 children을 감싸도록

2) 적용 예시
   <AuthProvider>
     <LanguageHydrationGuard>
       <AnalyzeResultProvider>
         <Layout>
           <div className="no-scrollbar flex-grow overflow-y-auto">
             {children}
           </div>
         </Layout>
       </AnalyzeResultProvider>
     </LanguageHydrationGuard>
   </AuthProvider>

3) import 문 추가
   import { LanguageHydrationGuard } from '@/components/language-hydration-guard';

4) **중요금지사항**
   - 기존 Provider 순서 변경 금지
   - AuthProvider는 최상위 유지
   - LanguageHydrationGuard는 AuthProvider 바로 다음

==============================================

핵심요구사항) 테스트 케이스를 구체적으로 구현할 것.

1) 테스트 파일 위치
   - apps/web/tests/language-hydration-guard.spec.ts

2) 테스트 케이스
   2-1) "hydration 완료 후 children이 표시되어야 함"
        - localStorage에 유효한 언어 저장
        - 페이지 로드
        - data-testid="app-content" 확인

   2-2) "localStorage 없을 때 기본 언어로 로드되어야 함"
        - localStorage 비우기
        - 페이지 로드
        - data-testid="app-content" 확인
        - 한국어 텍스트 확인

   2-3) "언어 전환 시 즉시 반영되어야 함"
        - 언어 선택기에서 English 선택
        - 영어 텍스트 확인
        - localStorage 확인

3) 테스트 페이지 설정
   - 테스트용 페이지: http://localhost:3000/scan (또는 기존 페이지 사용)
   - data-testid 속성 확인

4) 예시 테스트 코드
   test('hydration 완료 후 children이 표시되어야 함', async ({ page }) => {
     // localStorage 설정
     await page.addInitScript(() => {
       localStorage.setItem('safemeals-language-storage', JSON.stringify({
         state: { language: 'en' },
         version: 0
       }));
     });

     await page.goto('http://localhost:3000/scan');

     // hydration 대기
     await page.locator('[data-testid="app-content"]').waitFor();

     // children이 렌더링되었는지 확인
     await expect(page.locator('[data-testid="app-content"]')).toBeVisible();
   });
